{% extends 'base.html' %}

{% block content %}
    <div class="row mt-3">
        <div class="section-wrapper col-md">
            <center>
                <div class="section-header">
                    List Siswa
                </div>
                <div class="section-body">
                    {% include 'components/searchbar.html' %}
                    <div class="table-responsive">
                        <table class="table table-hover bg-transparent">
                            <thead class="text-secondary">
                                <tr class='column-name'>
                                    <td>NIS</td>
                                    <td>NISN</td>
                                    <td>Nama</td>
                                    <td>Email</td>
                                    <td>Tempat/Tanggal Lahir</td>
                                    <td>Jenis Kelamin</td>
                                    <td>Agama</td>
                                    <td>Kelas</td>
                                    <td>Hapus</td>
                                </tr>
                            </thead>
                            <tbody class="text-primary">
                                {% for siswa in list_siswa %}
                                    <tr data-href="{% url 'detail-siswa' siswa.nis %}">
                                        <td>{{siswa.nis}}</td>
                                        <td>{{siswa.nisn}}</td>
                                        <td>{{siswa.nama}}</td>
                                        <td>{{siswa.email}}</td>
                                        <td>{{siswa.tempat_lahir}}/{{siswa.tanggal_lahir|date:'d-m-Y'}}</td>
                                        {% if siswa.gender == 'P' %}
                                            <td>Pria</td>
                                        {% else %}
                                            <td>Wanita</td>
                                        {% endif %}                                            
                                        <td>{{siswa.agama}}</td>
                                        <td>{% if siswa.kelas.semester == semester_aktif %}{{siswa.kelas.tingkat}} {{siswa.kelas.jurusan}} {{siswa.kelas.kelas}}{% endif %}</td>
                                        <td><a href="{% url 'hapus-siswa' siswa.nis %}" class="btn main-btn right"><ion-icon name="trash"></ion-icon></a></td>
                                    </tr>
                                {% endfor %}
                            </tbody>                                
                        </table>
                    </div>                        
                </div>
                {% include "components/pagination.html" with extra_param='search' extra_value=request.GET.search %}
            </center>                
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-md section-wrapper">
            <center>
                <div class="section-header">
                    Buat Siswa
                </div>
            </center>
            <div class="section-body">
                {% include 'components/form.html' with form=siswa_form submit_button='Buat' action='buat/' col='three' %}
            </div>
        </div>
    </div>
{% endblock content %}